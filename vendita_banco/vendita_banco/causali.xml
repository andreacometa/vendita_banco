<?xml version="1.0"?>
<openerp>
    <data>

		<!--========================================================-->
		<!--					CAUSALI - TREE				-->
		<!--========================================================-->
		<record model="ir.ui.view" id="view_causali_tree">
			<field name="name">causali.tree</field>
			<field name="model">vendita.causali</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Causali">
					<field name="name" select="1" />
					<field name="descrizione" select="1" />
					<field name="tipo" />
					<field name="protocollo" />
					<field name="fatturabile" />
					<field name="ddt" />
					<field name="fattura" />
					<field name="report" />
				</tree>
			</field>
		</record>
		
		<!--========================================================-->
		<!--					CAUSALI - FORM						-->
		<!--========================================================-->
		<record model="ir.ui.view" id="view_causali_form">
			<field name="name">causali.form</field>
			<field name="model">vendita.causali</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Causali">
					<group colspan="4" col="6">
						<field name="name" colspan="2"/>
						<field name="descrizione" colspan="2"/>
						<field name="descrizione_raggruppamento" colspan="2"/>
					</group>
					<group colspan="4">
						<field name="tipo"  />
						<field name="protocollo" />
					</group>
					<notebook colspan="4">
						<page string="Magazzino">
							<field name="ddt" colspan="4"/>
							<field name="segno" colspan="4"/>
                            <field name="source_location_id" colspan="2"/>
							<field name="location_id" colspan="2"/>
                            <field name="transportation_reason_id" colspan="4"/>
						</page>
						<page string="ContabilitÃ ">
							<field name="fattura" on_change="onchange_fattura(fattura)"
								attrs="{'readonly':[('tipo','=','carico')]}" colspan="4"/>
							<field name="fatturabile" attrs="{'readonly':[('tipo','in',['carico', 'nessuno'])]}" colspan="4"/>
							<field name="journal_id" colspan="4"/>
							<field name="riga_raggruppa" colspan="4"/>
                                <field name="invoice_template_id"
                                    domain="[('fattura', '=', True)]"
                                    attrs="{'invisible':[('fatturabile','=', False)]}" />
						</page>
						<page string="Altro">
							<field name="no_recupera_protocollo_cambio_causale" colspan="2"/>
							<field name="no_spesa_incasso" colspan="2"/>
							<separator string="Report" colspan="4" />
							<field name="report" colspan="4" nolabel="1"/>
							<separator string="Causali Raggruppamento" colspan="4" />
							<field name="raggruppamento_ids"
								domain="[('tipo', '!=', tipo)]"
								nolabel="1" colspan="4"/>
						</page>
						<page string="Permessi">
							<separator string="Utenti Abilitati" colspan="4" />
							<field name="user_ids" nolabel="1" colspan="4"/>
						</page>
					</notebook>
				</form>
			</field>
		</record>

		<!-- ====================================================== -->
		<!-- 					CAUSALI - ACTION 					-->
		<!-- ====================================================== -->
		<record model="ir.actions.act_window" id="action_causali">
				<field name="name">Causali</field>
				<field name="type">ir.actions.act_window</field>
				<field name="res_model">vendita.causali</field>
				<field name="view_type">form</field>
				<field name="view_mode">tree,form</field>
				<field name="view_id" ref="view_causali_tree"/>
		</record>
		
		<!-- ====================================================== -->
		<!-- 					CAUSALI - MENU 				-->
		<!-- ====================================================== -->
		<menuitem action="action_causali" parent="menu_vendita_banco_config" id="menu_causale" name="Causali" string="Causali"  sequence="1"/>

	</data>
</openerp>
